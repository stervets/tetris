// Generated by CoffeeScript 1.7.1
(function() {
  var __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

  Application.Sprite = (function() {
    Sprite.prototype.params = {
      x: 0,
      y: 0,
      w: 0,
      h: 0,
      delay: 100,
      repeat: false,
      src: '',
      frames: []
    };

    Sprite.prototype.$el = null;

    Sprite.prototype.pointer = 0;

    Sprite.prototype.len = 0;

    Sprite.prototype.play = function(x, y) {
      var css;
      css = {
        backgroundPosition: "-" + this.params.frames[this.pointer][0] + "px -" + this.params.frames[this.pointer][1] + "px",
        opacity: 1
      };
      if (x != null) {
        css.left = "" + x + "px";
      }
      if (y != null) {
        css.top = "" + y + "px";
      }
      this.$el.css(css);
      if (++this.pointer >= this.len) {
        this.pointer = 0;
        if (!this.params.repeat) {
          this.$el.css({
            opacity: 0
          });
          return;
        }
      }
      return _.delay(this.play, this.params.delay, x, y);
    };

    function Sprite(params) {
      this.play = __bind(this.play, this);
      _(this.params).extend(params);
      this.len = this.params.frames.length;
      this.$el = $(document.createElement('DIV')).addClass('sprite').css({
        backgroundImage: "url(" + this.params.src + ")",
        left: this.params.x,
        top: this.params.y,
        height: this.params.h,
        width: this.params.w
      });
    }

    return Sprite;

  })();

}).call(this);

//# sourceMappingURL=sprite.map
